<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transcript</title>
    <link rel="stylesheet" href="/css/transcripts.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .transcript-container {
            border: 2px solid #000;
            padding: 10mm;
            margin-top: 20mm;
            width: 100%;
            height: auto;
            box-sizing: border-box;
            page-break-after: always;
        }

        .header, .footer {
            text-align: center;
        }

        .header h1 {
            font-size: 18px;
        }

        .header h2 {
            font-size: 16px;
        }

        table {
            width: 100%;
            margin-bottom: 10mm;
            border-collapse: collapse;
        }

        td, th {
            border: 1px solid black;
            padding: 5px;
            text-align: center;
        }

        th {
            background-color: #f0f0f0;
        }

        .footer {
            margin-top: 10mm;
        }

        .footer p {
            font-size: 12px;
        }
    </style>
</head>
<body>
    <!-- The content inside the box -->
    <% students.forEach(function(student) { %>
    <div class="transcript-container">
        <!-- Student and academic details -->
        <div>
            <table>
                <tr>
                    <td><strong>Roll No:</strong> <%= student.rollNumber %></td>
                    <td><strong>Programme:</strong> <%= academicDetails.programme %></td>
                </tr>
                <tr>
                    <td><strong>Student Name:</strong> <%= student.name %></td>
                    <td><strong>Discipline:</strong> <%= academicDetails.discipline %></td>
                </tr>
                <tr>
                    <td><strong>Semester:</strong> <%= academicDetails.semester %></td>
                    <td><strong>Academic Year:</strong> <%= academicDetails.academicYear %></td>
                </tr>
            </table>
        </div>

        <!-- Courses, units, grades -->
        <div>
            <table>
                <thead>
                    <tr>
                        <th>Course No.</th>
                        <th>Course Title</th>
                        <th>Unit</th>
                        <th>Grade</th>
                    </tr>
                </thead>
                <tbody>
                    <% student.courses.forEach(function(course) { %>
                    <tr>
                        <td><%= course.code %></td>
                        <td><%= course.title %></td>
                        <td><%= course.unit %></td>
                        <td><%= course.grade %></td>
                    </tr>
                    <% }); %>
                </tbody>
            </table>
        </div>

        <!-- SPI, CPI -->
        <div>
            <table>
                <tr>
                    <td><strong>SPI (Semester Performance Index):</strong> <%= student.spi %></td>
                    <td><strong>CPI (Cumulative Performance Index):</strong> <%= student.cpi %></td>
                </tr>
            </table>
        </div>

        <!-- Instructions section (printed at the bottom) -->
        <div>
            <p>Grading Points: O=10 (Outstanding), A+=10 (Excellent), A=9 (Very Good), etc.</p>
            <p>* Medium of instruction is English. Conversion from CPI to Percentage using (CPI*10)% formula.</p>
            <p>Minimum Graduating CPI: 5.0 &nbsp;&nbsp;&nbsp;&nbsp; Maximum Graduating CPI: 10.0</p>
        </div>

        <!-- Footer for signature and issue details -->
        <div class="footer">
            <p>Issued on: <%= academicDetails.issueDate %></p>
            <p>Assistant/Deputy Registrar</p>
        </div>
    </div>
    <% }); %>
</body>
</html>
